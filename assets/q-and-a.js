$(function(){const n=document.documentElement.clientHeight/2,l=document.querySelectorAll(".title"),o=document.querySelectorAll("select")[0];let a="";$(".search input").on("input",function(){a=$(this).val().trim()});var t=document.querySelectorAll(".ques_title"),r=document.querySelectorAll(".answer_txt");const d=[];for(let e=0;e<t.length;e++)d.push({title:t[e].innerText.trim(),text:r[e].innerHTML.trim()});let s=[];function c(e,t){let r;return function(){clearTimeout(r),r=setTimeout(()=>{e.apply(this,arguments)},t)}}$(".search button").click(c(i,500)),$(".search input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),c(i,500)())});let u="";function i(){if(a!==u){u=a,s=[];let e=0,t=d.length-1;for(var r=new RegExp(a,"gi");e<t;)(d[e].title.match(r)||d[e].text.match(r))&&s.push(d[e]),(d[t].title.match(r)||d[t].text.match(r))&&s.push(d[t]),e++,t--;if(e===t&&(d[e].title.match(r)||d[e].text.match(r))&&s.push(d[e]),""===a)$(".search-result").hide(),$(".faq-wrapper").show(),$(".faq-page").find("h1").show(),$(".m-sidebar-wrapper").show();else{var n=document.querySelector(".search-result");if($(".faq-wrapper").hide(),$(".search-result").empty(),$(".search-result").show(),$(".m-sidebar-wrapper").hide(),$(".faq-page").find("h1").hide(),s.length)for(let e=0;e<s.length;e++){var l=document.createElement("div"),o=document.createElement("p"),c=(o.innerHTML=s[e].title.replace(new RegExp(a,"gi"),e=>`<mark>${e}</mark>`),document.createElement("p"));c.innerHTML=s[e].text.replace(new RegExp(a,"gi"),e=>`<mark>${e}</mark>`),l.appendChild(o),l.appendChild(c),n.appendChild(l)}else{var i=document.createElement("p");i.innerHTML="No search results",n.appendChild(i)}}}}var p=document.querySelector(".sidebar-wrapper");for(let e=0;e<l.length;e++){var m=document.createElement("div");m.classList.add("aside-item"),m.innerHTML=l[e].innerHTML,p.appendChild(m)}var h=document.querySelectorAll(".aside-item");for(let e=0;e<h.length;e++)h[e].addEventListener("click",function(){l[e].scrollIntoView({behavior:"smooth",block:"center"})});const f=document.querySelectorAll(".page-sidebar");document.querySelectorAll(".faq-wrapper"),document.querySelectorAll(".faq_qa_main");window.addEventListener("scroll",c(()=>{var e,t=document.body.scrollTop||document.documentElement.scrollTop;for(let e=0;e<l.length;e++)t>l[e].offsetTop-n&&($(".aside-item").removeClass("active"),$(".aside-item").eq(e).addClass("active"),l[e].innerText?o.value=l[e].innerText:o.value=l[e].textContent);var r=document.querySelector(".active");for(let e=0;e<f.length;e++)r&&(f[e].scrollTop=r.offsetTop);document.body.scrollTop||document.documentElement.scrollTop,e=document.querySelector("header").offsetHeight,y.style.top=e+"px"},100),{passive:!0}),$("select").empty();for(let e=0;e<l.length;e++){var v=document.createElement("option");v.innerText=l[e].innerText,o.appendChild(v)}const y=document.querySelector(".m-sidebar-wrapper");$("select").change(function(){var e=$(this).prop("selectedIndex");l[e].scrollIntoView({behavior:"smooth",block:"center"})}),$(".faq_qa_main").each((e,t)=>{e&&($(t).find(".page-sidebar").hide(),$(t).find(".m-sidebar-wrapper").hide(),$(t).find(".search").hide())});var q=document.querySelectorAll(".answer_txt");for(let e=0;e<q.length;e++){var g=q[e],w=g.querySelector(".video");if(w){const T=g.querySelector(".video-popup");g=g.querySelector(".close");w.addEventListener("click",()=>{T.style.display="block"}),g.addEventListener("click",()=>{T.style.display="none"}),T.addEventListener("click",function(e){e.target===this&&(this.style.display="none")})}}});