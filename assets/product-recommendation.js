class ProductRecommendation extends HTMLElement{constructor(){super(),this.cartItems=document.querySelector("cart-items")||document.querySelector("cart-drawer-items"),this.cartDrawer=document.querySelector("cart-drawer")}recommendationAddCart(){Array.from(this.querySelectorAll("button")).forEach(e=>e.addEventListener("click",async t=>{e.style.pointerEvents="none",e.querySelector(".loading-overlay__spinner").classList.remove("hidden"),await this.addToCart(e.dataset.id),await this.cartItems.updateQuantity(0,1),await this.cartDrawer.renderRecommendations(await this.cartDrawer.getProductsRecommended())}))}async addToCart(t,e=1){await fetch("/cart/add.js",{method:"POST",body:JSON.stringify({id:t,quantity:e}),headers:{"Content-Type":"application/json"}})}}customElements.define("product-recommendation",ProductRecommendation);